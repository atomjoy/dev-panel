import{e as m,L as u,r as h,o as d,c as f,b as a,a as i,t as r,j as g,M as $,z as b,A as w,H as S,s as A,h as y,w as I,k,u as C}from"./app-RG8-bB0c.js";import{_ as L}from"./ClientMenu-uYM0P1Vf.js";import{E as U,B}from"./PageLink-wVeZ-R6A.js";import{L as P}from"./Label-DZrI8-y7.js";import{_ as V,a as j}from"./LinksPage-Cy1Yt6P3.js";import"./ChangeTitle-Dh3zFWE_.js";const v=l=>(b("data-v-0e04869c"),l=l(),w(),l),x={class:"input-group"},E={class:"avatar-input"},M=["title"],N=v(()=>a("i",{class:"fa-solid fa-trash"},null,-1)),R=[N],q=["src"],D={class:"choose-info"},F={id:"upload-button"},T=v(()=>a("i",{class:"fa-solid fa-upload"},null,-1)),W={__name:"AvatarInput",props:{avatar:{default:u},label:{default:"Select image"},remove_avatar_url:{default:"/web/api/remove/avatar"},remove_success:{default:"Avatar removed."},remove_error:{default:"Avatar not removed."}},setup(l){const t=l,o=h(null);t.avatar?(o.value="/storage/"+t.avatar,t.avatar.toLowerCase().startsWith("http://")&&(o.value=t.avatar),t.avatar.toLowerCase().startsWith("https://")&&(o.value=t.avatar)):o.value=u;function c(s){const n=URL.createObjectURL(s.target.files[0]);n&&(o.value=n);const p=document.querySelector("#refresh-user-image");p&&(p.src=n)}async function _(){try{await $.post(t.remove_avatar_url,[]),o.value=u,alert(t.remove_success)}catch{alert(t.remove_error)}}function e(){document.querySelector("#avatar-input").click()}return(s,n)=>(d(),f("div",x,[a("div",E,[a("div",{onClick:_,class:"delete-avatar",title:s.$t("Remove avatar")},R,8,M),a("img",{src:o.value,class:"avatar-image"},null,8,q),i(P,{name:"avatar",text:"Select image"}),a("div",{id:"choose-file",onClick:e},[a("span",D,r(s.$t("Select image with .webp, .png or .jpg extension (min. 256x256 px).")),1),a("span",F,[T,g(" "+r(s.$t("Choose Image")),1)])]),a("input",{id:"avatar-input",onChange:c,type:"file",name:"avatar",hidden:"true"},null,32)])]))}},z=m(W,[["__scopeId","data-v-0e04869c"]]),H={class:"page"},O={class:"page__menu"},G={class:"page-menu__nav"},J={class:"page__wrapper"},K={class:"page__menu-left"},Q={class:"page-menu__title"},X={class:"page__content"},Y={class:"page-content__title"},Z=a("i",{class:"fa-regular fa-circle-user"},null,-1),aa={class:"submenu__title"},ea={class:"page-content__desc"},ta={class:"h4-title"},ca={__name:"PanelProfilAvatarView",setup(l){const t=S(),o=t.getUser;let c=A({get(){var e,s;return((s=(e=o.value)==null?void 0:e.profile)==null?void 0:s.avatar)??""},set(e){avatar.value=e}});function _(e){t.changeUserAvatar(new FormData(e.target)),t.scrollTop()}return(e,s)=>(d(),y(L,null,{default:I(()=>[a("div",H,[a("div",O,[a("span",null,r(e.$t("Profile")),1),a("div",G,[i(V)])]),a("div",J,[a("div",K,[a("div",Q,r(e.$t("Profile")),1),i(j)]),a("div",X,[a("div",Y,[Z,a("span",aa,r(e.$t("Avatar settings")),1)]),a("p",ea,r(e.$t("Upload your avatar image here.")),1),i(U),a("h4",ta,r(e.$t("Upload avatar")),1),a("form",{onSubmit:k(_,["prevent"]),method:"post",enctype:"multipart/form-data",class:"label-color client-panel-form"},[i(z,{label:e.$t("Select image"),avatar:C(c)},null,8,["label","avatar"]),i(B,{text:e.$t("Update")},null,8,["text"])],32)])])])]),_:1}))}};export{ca as default};
