import{e as m,M as u,r as h,o as v,c as f,b as a,a as n,t as r,j as g,N as $,z as b,A as w,H as S,s as A,h as y,w as I,k,u as C}from"./app-DKuduxfg.js";import{_ as U,a as B,E as L,B as P,b as N}from"./LinksPage-NgouoM_X.js";import{L as V}from"./Label-DS02cJJX.js";const p=l=>(b("data-v-0e04869c"),l=l(),w(),l),j={class:"input-group"},x={class:"avatar-input"},E=["title"],M=p(()=>a("i",{class:"fa-solid fa-trash"},null,-1)),R=[M],q=["src"],D={class:"choose-info"},F={id:"upload-button"},T=p(()=>a("i",{class:"fa-solid fa-upload"},null,-1)),W={__name:"AvatarInput",props:{avatar:{default:u},label:{default:"Select image"},remove_avatar_url:{default:"/web/api/remove/avatar"},remove_success:{default:"Avatar removed."},remove_error:{default:"Avatar not removed."}},setup(l){const t=l,o=h(null);t.avatar?(o.value="/storage/"+t.avatar,t.avatar.toLowerCase().startsWith("http://")&&(o.value=t.avatar),t.avatar.toLowerCase().startsWith("https://")&&(o.value=t.avatar)):o.value=u;function c(s){const i=URL.createObjectURL(s.target.files[0]);i&&(o.value=i);const d=document.querySelector("#refresh-user-image");d&&(d.src=i)}async function _(){try{await $.post(t.remove_avatar_url,[]),o.value=u,alert(t.remove_success)}catch{alert(t.remove_error)}}function e(){document.querySelector("#avatar-input").click()}return(s,i)=>(v(),f("div",j,[a("div",x,[a("div",{onClick:_,class:"delete-avatar",title:s.$t("Remove avatar")},R,8,E),a("img",{src:o.value,class:"avatar-image"},null,8,q),n(V,{name:"avatar",text:"Select image"}),a("div",{id:"choose-file",onClick:e},[a("span",D,r(s.$t("Select image with .webp, .png or .jpg extension (min. 256x256 px).")),1),a("span",F,[T,g(" "+r(s.$t("Choose Image")),1)])]),a("input",{id:"avatar-input",onChange:c,type:"file",name:"avatar",hidden:"true"},null,32)])]))}},z=m(W,[["__scopeId","data-v-0e04869c"]]),H={class:"page"},O={class:"page__menu"},G={class:"page-menu__nav"},J={class:"page__wrapper"},K={class:"page__menu-left"},Q={class:"page-menu__title"},X={class:"page__content"},Y={class:"page-content__title"},Z=a("i",{class:"fa-regular fa-user"},null,-1),aa={class:"submenu__title"},ea={class:"page-content__desc"},ta={class:"h4-title"},la={__name:"PanelProfilAvatarView",setup(l){const t=S(),o=t.getUser;let c=A({get(){var e,s;return((s=(e=o.value)==null?void 0:e.profile)==null?void 0:s.avatar)??""},set(e){avatar.value=e}});function _(e){t.changeUserAvatar(new FormData(e.target)),t.scrollTop()}return(e,s)=>(v(),y(N,null,{default:I(()=>[a("div",H,[a("div",O,[a("span",null,r(e.$t("Profil")),1),a("div",G,[n(U)])]),a("div",J,[a("div",K,[a("div",Q,r(e.$t("Profil")),1),n(B)]),a("div",X,[a("div",Y,[Z,a("span",aa,r(e.$t("Avatar settings")),1)]),a("p",ea,r(e.$t("Upload your avatar image here.")),1),n(L),a("h4",ta,r(e.$t("Upload avatar")),1),a("form",{onSubmit:k(_,["prevent"]),method:"post",enctype:"multipart/form-data",class:"label-color"},[n(z,{label:e.$t("Select image"),avatar:C(c)},null,8,["label","avatar"]),n(P,{text:e.$t("Update")},null,8,["text"])],32)])])])]),_:1}))}};export{la as default};
